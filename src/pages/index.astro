---
title: "Home";
description: "Home page for Pastry Chasers application that provides updates on when the next run is.";

import BaseLayout from "../layouts/BaseLayout.astro";
import RandomItem from "../components/RandomItem.svelte";
import { getExercises } from "../services/exerciseService.js";
import ExerciseCard from "../components/ExerciseCard.svelte";
import BackToTop from "../components/BackToTop.astro";

// Set logo image URL
const imageUrl = "/Pastry-Chasers-Main/images/logo.png";

// Parameters for fetching popular exercises
const params = {
  type: "strength",
  limit: 3,
};

// Fetch exercises from API for display
const exercises = await getExercises(params);
---

<BaseLayout>
  <!-- Main content area for the home page -->
  <div slot="main">
    <!-- Hero section with logo and welcome message -->
    <div class="container-fluid mt-5 home-background">
      <div class="row align-items-center">
        <!-- Left column: logo image -->
        <div class="col-md-6">
          <img
            src={imageUrl}
            class="img-fluid rounded-corners"
            alt="Descriptive Alt Text"
          />
        </div>
        <!-- Right column: welcome message and random exercise button -->
        <div class="col-md-6">
          <div class="hero-section p-5 rounded-corners bg-light shadow">
            <h1 class="display-4 text-center mb-2">Welcome to Pastry Chasers</h1>
            <div
              class="text-center mt-2 mb-4 d-flex justify-content-center align-items-center"
            >
              <span class="lead">Get Motivated! </span>
              <img
                src="/Pastry-Chasers-Main/images/motivation-icon.png"
                alt="Motivation Icon"
                class="detail-icon-original ms-2"
              />
            </div>
            <hr class="my-4" />
            <p class="detail-info text-center fs-6">
              Love to run but can't find the motivation? Let us inspire you! <br />
              Click below to get a random exercise to try or browse our exercises
              for endless inspiration!
            </p>
            <!-- Svelte component for random exercise modal -->
            <div class="d-flex justify-content-center mt-4">
              <RandomItem client:load />
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Section for popular exercises -->
    <div class="container mt-5 container-background">
      <div class="title-button-container">
        <h2 class="display-4">Popular Exercises</h2>
        <!-- Button to browse all exercises -->
        <a href="./browse" class="btn secondary-button btn-lg"
          >See All Exercises</a
        >
      </div>
      <!-- Display fetched exercises as cards -->
      <div class="card-group row row-cols-1 row-cols-md-3 g-4">
        {
          exercises && exercises.map((exercise) => (
            <div class="col-md-4">
              <!-- Svelte component for individual exercise card -->
              <ExerciseCard exercise={exercise} client:load />
            </div>
          ))
        }
      </div>
    </div>
    <!-- Back to top button for easy navigation -->
    <BackToTop />
  </div>
</BaseLayout>